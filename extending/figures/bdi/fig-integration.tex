\begin{tikzpicture}
\tikzstyle{active}=[draw=red, fill=red!20, very thick, draw]

\node[above=1.1cm, xshift=2.75cm, label={[label distance=-0.3cm]120:A1}]
(bdi1) {\includegraphics[height=0.8cm]{extending/figures/bdi/fig-braincogs.png}};

\node[below=0.45cm,xshift=2.5cm, label={[label distance=-0.3cm]120:A2}]
(bdi2) {\includegraphics[height=0.8cm]{extending/figures/bdi/fig-braincogs.png}};

\node[below=1.3cm, xshift=1.5cm, label={[label distance=-0.3cm]120:A3}] 
(bdi3) {\includegraphics[height=0.8cm]{extending/figures/bdi/fig-braincogs.png}};

\node[above=0.5cm]
(bdi4) {\includegraphics[height=0.8cm]{extending/figures/bdi/fig-braincogs.png}};

\node[above=1.75cm, xshift=1cm]
(bdi5){\includegraphics[height=0.8cm]{extending/figures/bdi/fig-braincogs.png}}; 


\node[above=1.1cm,xshift=7cm, label={[label distance=-0.3cm]30:A1}]
(abm1) {\includegraphics[height=0.8cm]{extending/figures/bdi/fig-robot.png}};

\node[below=0.45cm, xshift=9cm, label={[label distance=-0.3cm]30:A2}] 
(abm2) {\includegraphics[height=0.8cm]{extending/figures/bdi/fig-robot.png}}; 

\node[below=1.3cm, xshift=7.2cm, label={[label distance=-0.2cm]30:A3}]
(abm3) {\includegraphics[height=0.8cm]{extending/figures/bdi/fig-robot.png}}; 

\node[above=1.75cm, xshift=9cm] 
(abm4) {\includegraphics[height=0.8cm]{extending/figures/bdi/fig-robot.png}}; 

\node[above=0.75cm, xshift=9.5cm] 
(abm5) {\includegraphics[height=0.8cm]{extending/figures/bdi/fig-robot.png}}; 
\draw[densely dashed](bdi1)--(abm1);
\draw[densely dashed](bdi2)--(abm2);
\draw[densely dashed](bdi3)--(abm3);
\begin{pgfonlayer}{background}
\node [fit=(bdi1) (bdi2) (bdi3) (bdi4) (bdi5)]
[rectangle, minimum height=4cm, minimum width=2.5cm, draw]{BDI System};
\node [fit=(abm1) (abm2) (abm3) (abm4) (abm5)]
[rectangle, minimum height=4cm, minimum width=2.5cm, draw]{ABM System};
\draw [->, >=latex,] (4,1.0) -- node[above]{actions} (6,1.0);
\draw [<-, >=latex,] (4,0.4) -- node[above]{percepts} (6,0.4);
\draw [<->, >=latex,] (4,-0.2) -- node[above]{status} (6,-0.2);
\end{pgfonlayer}
\end{tikzpicture}

