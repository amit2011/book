% ##################################################################################################################
\section{Berlin II: CEMDAP-MATSim-Cadyts Scenario}
\label{sec:berlinII}
\hfill \textbf{Author:} Dominik Ziemke

% ##################################################################################################################

As explained in section ?????, transport modeling can be considered as the representation of the interaction of transport demand (i.e. people and goods being transported) and transport supply (i.e. transport infrastructure and services) in the transport system. Depending on the application of innovative strategy modules (see section ?????), MATSim accounts for the adaption of transport demand to transport supply \citep{Balmer2007phd}. It is, therefore, crucial to distinguish choice dimensions, which may be adapted during the modeling process (via the application of innovative strategy modules, see section....) and choice dimension whose initial properties are assumed to be correct (e.g. mode shares have to be initially correct in a scenario where the choice of transport modes is not modeled). In the latter case, it is important that respective properties of the transport demand are correct at the start of the simulation (see section Data Requirements - Demand???).

In order to model these properties of the initial demand correctly, suitable data are needed. A widely utilized source of such data are travel diaries, which contain sequences of departure times, mode choice decisions, and activity locations.
%A disadvantage of using trip diaries is, however, that all information that is taken from the diaries is by definition not sensitive to policy measures. Also, trip diaries are normally only available for a very small fraction of the population. Another drawback is that, in Germany and the U.S. (and many other parts of the world), the geo-coding of the activity location is considered sensitive information under privacy legislation, and thus increasingly difficult to obtain (cite ZiemkeNagelBhat2015).
Many contents of this data source, in particular information concerning locations, are, however, in many parts of the world (e.g. in Germany and the United States) considered sensitive in terms of data privacy legislation and thus increasingly difficult to obtain and to process \citep{ ZiemkeNagelBhat2015IntegratingCemdapMatsimTransferabilityTRB}.

The \textit{Berlin II scenario} (also referred to as the \textit{CEMDAP-MATSim-Cadyts scenario} according to applied models in its setup) is the outcome of an alternative approach that relies exclusively on input data that are freely available and easy to obtain. The starting point for the Berlin II scenario are publicly available commuting matrices which contain home and work places of socially-secured workers on the municipality level. Based on this information, it is possible to model morning and evening commuting peaks.

In order to obtain a demand representation of the full population, two further major modeling steps are required. First, in cases (like in the Berlin case, see below), where the spatial resolution of the commuter matrix is quite coarse, a method to attain origin-destination information at a higher resolution is needed. Second, there needs to be a procedure to model secondary activities, i.e. all other activities that go beyond home and work activities.

The necessity of the first step becomes obvious when looking at the German case, where, for instance, all of the city of Berlin, with 3.4 million inhabitants, is represented by exactly one zone \citep{BA2010Pendlerstatistik}. In the U.S., commuting matrices are typically available only at a county-to-county level. Since such location-aggregation-based matrices may become the rule rather than the exception in privacy-sensitive societies, a (generalizable) method to attain origin-destination information at a higher resolution is needed \citep{ ZiemkeNagelBhat2015IntegratingCemdapMatsimTransferabilityTRB}. The standard solution would be to estimate an activity location choice model. This, however, is difficult if no trip data to estimate the model is available. OD matrix estimation studies \citep{ZuylenWillumsenMatrix-from-cnts} suggest that traffic counts may be used to make an initially rough OD matrix more appropriate for a region. As MATSim is not based on OD flows (see section ????), but on full daily plans, the issue becomes whether there is a procedure to update these initial full daily plans using traffic counts. In the approach to create the Berlin II scenario, a procedure proposed by Flötteröd et al. \citep{FloetteroedBierlaireNagel2010Bayesian} and implemented in the software Cadyts (Calibration of Dynamic Traffic Simulations \citep{Floetteroed2010Manual110}) is applied for this task. Specifically, random draws of possible home and work locations within the home or work municipality given by the commuter matrix are taken. Various MATSim plans each containing one pair of home and work locations are created for each agent. Then, the Cadyts calibration procedure is applied within the iterative MATSim simulation to select those plans, and thus also those locations, which appear more plausible with regard to given traffic counts.

As stated above, however, full daily plans (as opposed to mere home-work-home comuting patterns) are needed. Therefore, the second aforementioned additional modeling step, the modeling of secondary activities for each individual in the region, needs to be addressed. For the Berlin II scenario, the Comprehensive Econometric Microsimulator for Daily Activity-Travel Patterns \citep{BhatEtAl2008CEMDAPUserManual} is used to generate initial complete daily plans for each individual. One the one hand, however, no CEMDAP parameter set is available for Berlin. On the other hand and more importantly, one major goal of the study creating the Berlin II scenario was to show is generalizability \citep{ ZiemkeNagelBhat2015IntegratingCemdapMatsimTransferabilityTRB}. So, the model parameters of CEMDAP estimated for the Los Angeles region (the estimation context) are retained, and then used to generate the initial plans for individuals in Berlin (the application context in the current paper) based on Berlin demographic data.

To sum up, home and work municipalities are taken from the commuter matrix. Within these municipalities, a set of (more precisely spatially defined) potential home and work locations are randomly chosen for each agent. Full daily plans incorporating the various potential locations of each agent are generated with CEMDAP based on a parameter set from another region and local demographic data.

Then, the Cadyts calibration procedure is used to select those initial full daily plans that are most consistent with Berlin traffic count data. In other studies, Cadyts has already been applied to update route choice predictions, both for car \citep{FloetteroedChenEtAl2011BehavioralCalibAndAna} and for public transit \citep{MoyoNagel2013ptNetCalibrationABMTPO}. However, it has not been used to update full daily activity-travel plans, as it has been done in the procedure that created the Berlin II scenario. 

As a result, the Berlin II scenario, is an activity-plan-based MATSim transport model for Berlin that is exclusively based on freely or easily available data. If a commuter matrix, some basic demographics of the population, and traffic counts (or theoretically another suitable data source to run the calibration procedure on) are available for a particular regional context, the approach used to create the Berlin II scenario can be transfered to this context. In fact, the Berlin II scenario itself has to be seen as a \textit{transferred model} because the initial plans generated by CEMDAP are based on parameter estimates from another geographic region (namely the Los Angeles area).

Through a validation based on the Berlin 2008 SrV \textit{System repräsentativer Verkehrserhebungen}, an extensive, regularly conducted travel survey, the quality of the created transport demand representation has been successfully tested. So far, the Berlin II scenario exists for a 1\%{} and a 10\%{} population sample of all persons, i.e. also non socially-secured workers and also non-working people, aged 18 and above for the study region. Currently, only motorized traffic is considered. Stability tests, showing that agents' daily plans keep being chosen when the Cadyts calibration functionality is switched of, have been successfully carried out. This can be seen as a clear indication that the scenario is applicable for policy studies in a meaningful way.

Further improvements like the addition of public transport and a more realistic representation of the population are planned. Moreover, similar approaches of integrating activity-travel pattern generators (e.g. the FEATHERS model, cite?????) with MATSim as a transport simulation are planned.

\ah{NOTES: to be removed:
AN: Szenario entstand aus einer Arbeit zur Nachfragegenerierung. Würde also auch in einen conceptual part passen, anderer Ansatz als die meisten anderen Szenarien ("datensparsam"), Integration von CEMDAP (Modell zur Aktivitätenkettenerzeugung)

Auch link auf Cadyts.

Aktivitätenkettenerzeugung: ähnlich zu Tel Aviv Modell

FEATHERS am Beginn -> Vortrag Wiepersdorf
}

% ##################################################################################################################