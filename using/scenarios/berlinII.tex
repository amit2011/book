% ##################################################################################################################
\section{Berlin II: CEMDAP-\protect\gls{matsim}-Cadyts Scenario}
\label{sec:berlinII}
\hfill \textbf{Author:} Dominik Ziemke

\editdone{This text has undergone the professional edit. Please no grammatical changes anymore! They are most-probably wrong.}

% ##################################################################################################################
%As explained in section ?????, transport modeling can be considered as the representation of the interaction of transport demand (i.e. people and goods being transported) and transport supply (i.e. transport infrastructure and services) in the transport system. Depending on the application of innovative strategy modules (see section ?????), MATSim accounts for the adaption of transport demand to transport supply \citep{Balmer2007phd}. It is, therefore, crucial to distinguish choice dimensions, which may be adapted during the modeling process (via the application of innovative strategy modules, see section....) and choice dimension whose initial properties are assumed to be correct (e.g. mode shares have to be initially correct in a scenario where the choice of transport modes is not modeled). In the latter case, it is important that respective properties of the transport demand are correct at the start of the simulation (see section Data Requirements - Demand???).
%
To correctly model initial demand properties not included in \gls{matsim} iterations in specific studies (i.e. activity choice), suitable data are needed. Travel diaries containing departure times sequences, mode choice decisions and activity locations are widely used.
%
%A disadvantage of using trip diaries is, however, that all information that is taken from the diaries is by definition not sensitive to policy measures. Also, trip diaries are normally only available for a very small fraction of the population. Another drawback is that, in Germany and the U.S. (and many other parts of the world), the geo-coding of the activity location is considered sensitive information under privacy legislation, and thus increasingly difficult to obtain (cite ZiemkeNagelBhat2015).
However, much of this data source content, particularly location information, is considered sensitive in terms of data privacy legislation and thus increasingly difficult to obtain and process in many areas (e.g.,\,in Germany and the United States) \citep{ZiemkeNagelBhat2015IntegratingCemdapMatsimTransferabilityTRB}.

The \textit{Berlin II scenario} (also referred to as the \emph{CEMDAP-\gls{matsim}-Cadyts scenario} according to applied models in its setup), is the outcome of an alternative approach relying exclusively on freely available and easy-to-obtain input data. Starting points for this scenario are publicly available commuting matrices containing homes and workplaces of workers with social security on the municipality level. Based on this information, it is possible to model morning and evening commuting peaks.

To obtain a full-population demand representation, two further major modeling steps are required. First, in cases like the Berlin case, see below, where commuter matrix spatial resolution is quite coarse, higher resolution \gls{od} information is necessary. Second, a procedure is needed to model secondary activities, i.e.,\,all other activities beyond home and work.

The importance of the first step becomes obvious when looking at the German case; here, the whole city of Berlin, with 3.4\,million inhabitants, is represented by exactly one zone \citep{BA2010Pendlerstatistik}. In the United States, commuting matrices are typically available only on a county-to-county level. Since such location-aggregation-based matrices may become the rule, rather than the exception, in privacy-sensitive societies, a (generalizable) method to attain \gls{od} information at a higher resolution is needed \citep{ZiemkeNagelBhat2015IntegratingCemdapMatsimTransferabilityTRB}. The standard solution would be to estimate an activity location choice model. This, however, is difficult if no trip data to estimate the model is available. \gls{od} matrix estimation studies \citep{ZuylenWillumsenMatrix-from-cnts} suggest that traffic counts may be used to make an initially rough \gls{od} matrix more appropriate for a region. As \gls{matsim} is not based on \gls{od} flows, but on full daily plans, the issue comes down to whether a procedure exists to update these initial full daily plans using traffic counts. In the approach used to create the Berlin II scenario, a procedure proposed by \citet{FloetteroedBierlaireNagel2010Bayesian} and implemented in the software \gls{cadyts}---explained in Chapter~\ref{ch:cadyts})---is applied for this task. Specifically, random draws of possible home and work locations within the home or work municipality given by the commuter matrix are made. Various \gls{matsim} plans, each containing one pair of home and work locations, are created for each agent. Then, the \gls{cadyts} calibration procedure is applied within the iterative \gls{matsim} simulation to select plans and locations more likely to occur with given traffic counts.

As stated above, however, full daily plans (as opposed to mere home-work-home commuting patterns) are needed. Therefore, the second modeling step, the modeling of secondary activities for each individual in the region, needs to be addressed. For the Berlin II scenario, \gls{cemdap} is used to generate initial complete daily plans for each individual. One one hand, however, no \gls{cemdap} parameter set is available for Berlin. On the other hand, and more importantly, one major goal of the study creating the Berlin II scenario was to show its generalizability \citep{ZiemkeNagelBhat2015IntegratingCemdapMatsimTransferabilityTRB}. So, the model parameters of \gls{cemdap} estimated for the Los Angeles region (the estimation context) are retained and then used to generate initial plans for individuals in Berlin (the application context in the current paper), based on Berlin demographic data.

To sum up, home and work municipalities are taken from the commuter matrix. Within these municipalities, a set of (more precisely spatially defined) potential home and work locations are randomly chosen for each agent. Full daily plans incorporating the various potential locations of each agent are generated with \gls{cemdap}, based on a parameter set from another region and local demographic data.

Then, the \gls{cadyts} calibration procedure is used to select those initial full daily plans most consistent with Berlin traffic count data. In other studies, \gls{cadyts} has already been applied to update route choice predictions, both for car \citep{FloetteroedChenEtAl2011BehavioralCalibAndAna} and for public transit \citep{MoyoNagel2013ptNetCalibrationABMTPO}. However, it has not been used to update full daily activity-travel plans, as it was in the procedure that created the Berlin II scenario. 

The Berlin II scenario is an activity-plan-based \gls{matsim} transport model for Berlin based exclusively on freely, or readily, available data. If a commuter matrix, some basic population demographics and traffic counts (or, theoretically, another suitable data source on which to run the calibration procedure) are available for a particular regional context, the approach used to create the Berlin II scenario can be transferred to this context. In fact, the Berlin II scenario itself should be seen as a \emph{transferred model}, because initial plans generated by \gls{cemdap} are based on parameter estimates from another geographic region (the Los Angeles area).

Through a validation based on the Berlin 2008 \gls{srv}, an extensive, regularly-conducted travel survey, the created transport demand representation quality has been successfully tested. So far, the Berlin II scenario exists for a 1\,\% and a 10\,\% population sample of all persons, i.e.,\,including workers without social security, as well as non-working people, aged 18 and above, for the study region. Currently, only motorized traffic is considered. Stability tests, showing that agents' daily plans continue to be chosen when \gls{cadyts} calibration functionality is switched off, have been successfully carried out. This is a clear indication that the scenario is applicable and meaningful for policy studies.

Further improvements, like the addition of public transport and a more realistic representation of the population, are planned. Moreover, similar approaches to integrating activity-travel pattern generators (e.g.,\,the \gls{feathers} model) with \gls{matsim} in transport simulation are planned.

% ##################################################################################################################
%\ah{NOTES: to be removed:
%AN: Szenario entstand aus einer Arbeit zur Nachfragegenerierung. W체rde also auch in einen conceptual part passen, anderer Ansatz als die meisten anderen Szenarien ("datensparsam"), Integration von CEMDAP (Modell zur Aktivit채tenkettenerzeugung)
%
%Aktivit채tenkettenerzeugung: 채hnlich zu Tel Aviv Modell
%
%FEATHERS am Beginn -> Vortrag Wiepersdorf
%}

% ##################################################################################################################